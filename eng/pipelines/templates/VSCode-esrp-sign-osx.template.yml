---
parameters:
  RuntimeID: 'osx-x64'

steps:
- checkout: none

- template: ../tasks/DownloadPipelineArtifact.yml
  parameters:
    displayName: 'Downloading unsigned_${{ parameters.RuntimeID }4_zip'
    path: '$(Pipeline.Workspace)/Artifacts' 
    artifact: 'unsigned_${{ parameters.RuntimeID }_zip'

- task: MicroBuildSignMacFiles@1
  displayName: 'ESRP Sign'
  inputs:
    SigningTarget: '$(Pipeline.Workspace)\Artifacts\${{ parameters.RuntimeID }.zip'
    SigningCert: 8023

- template: ../tasks/PublishPipelineArtifact.yml
  parameters:
    displayName: 'Publish Binaries'
    path: '$(Pipeline.Workspace)\Artifacts\${{ parameters.RuntimeID }.zip'
    artifactName: '${{ parameters.RuntimeID }zip'
...